<?xml version="1.0" encoding="utf-8" ?>
<!-- use this file instead of NLog.config for debugging, it features a JsonLog output to a file to record responses from LCU -->
<nlog xmlns="http://www.nlog-project.org/schemas/NLog.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.nlog-project.org/schemas/NLog.xsd NLog.xsd"
	autoReload="true"
	internalLogFile="c:\temp\nlog-internal.log" 
	internalLogLevel="Debug"
	throwOnError="true"
	  >

	<targets>
		<target name="logfile" xsi:type="File" fileName="logs/log" 
			archiveAboveSize="1000000"
		/>
		<target name="logconsole" xsi:type="Console" />
		<target name="logdebug" xsi:type="Debugger"
			layout="${time}|${level:format=TriLetter:uppercase=true}|${logger:shortname=true}|${message:withexception=true}" />
		<target name="logjson" xsi:type="File" fileName="logs/json_out.log" 
			layout="${time}|${message}"
			deleteOldFileOnStartup="true"
		/>
	</targets>

	<rules>
		<!--<logger name="*" minlevel="Info" writeTo="logconsole" />-->
		<logger name="JsonLog" minlevel="Debug" writeTo="logjson" final="true" />
		<logger name="*" minlevel="Debug" writeTo="logdebug" />
	</rules>
</nlog>