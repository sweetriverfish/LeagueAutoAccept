<?xml version="1.0" encoding="utf-8" ?>
<nlog xmlns="http://www.nlog-project.org/schemas/NLog.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.nlog-project.org/schemas/NLog.xsd NLog.xsd"
	autoReload="true"
	internalLogFile="c:\temp\nlog-internal.log" 
	internalLogLevel="Off"
	throwOnError="false"
	  >

	<targets>
		<target name="logfile" xsi:type="File" fileName="logs/log" 
			archiveAboveSize="1000000"
			keepFileOpen="true"
			archiveEvery="Day"
			maxArchiveFiles="10"
		/>
		
		<target name="logconsole" xsi:type="Console" />
		
		<target name="logdebug" xsi:type="Debugger"
			layout="${time}|${level:format=TriLetter:uppercase=true}|${threadId:padding=3}|${logger:shortname=true}|${message:withexception=true}" />
		
		<target name="logjson" xsi:type="File" fileName="logs/json_out.log" 
			layout="${time}|${message}"
			deleteOldFileOnStartup="true"
			archiveEvery="Day"
			maxArchiveFiles="2"
		/>
	</targets>

	<rules>
		<!-- disable logging to console, this is a console app: <logger name="*" minlevel="Info" writeTo="logconsole" />  -->
		<!-- on JsonLog, change minLevel to Debug when debugging json responses from server-->
		<logger name="JsonLog" minlevel="Off" writeTo="logjson" final="true" />
		<logger name="*" minlevel="Debug" writeTo="logdebug" />
		<logger name="*" minlevel="Debug" writeTo="logfile" enabled="false" />
	</rules>
</nlog>